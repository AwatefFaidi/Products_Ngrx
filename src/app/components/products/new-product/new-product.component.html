<div class="container" >
    <ng-container *ngIf="productFormGroup">
        <ng-container *ngIf="state as data" >
          <ng-container *ngIf="data.dataState ==ProductsStateEnum.LOADING">
             <div class="p-2"> Loading...</div>
           </ng-container>
           <ng-container *ngIf="data.dataState ==ProductsStateEnum.LOADED" class="p-4">
             <div class="alert-success container p-3 m-3"> 
                <span>Product Saved Successfufly</span>
                <button class="btn btn-success ml-3" (click)="newProduct()">New Product</button>
              </div>
           </ng-container>
           <ng-container *ngIf="data.dataState == ProductsStateEnum.NEW">
                <form [formGroup]="productFormGroup" (ngSubmit)="onSaveProduct()">
                    <div class="form-group">
                         <label for="name">Name</label>
                    <!-- ngclass css style validators-->
                            <input type="text" class="form-control" formControlName="name" 
                         [ngClass]="{'is-invalid':submitted && productFormGroup.controls.name.errors}">
                        <div *ngIf="submitted && productFormGroup.controls.name.errors" class="invalid-feedback">
                            <div *ngIf="productFormGroup.controls.name.errors.required">Name is Required</div>
                        </div>
                    </div>
                    <div class="form-group">
                         <label>Price</label>
                        <input type="text" class="form-control" formControlName="price">
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="text" class="form-control" formControlName="quantity">
                    </div>
                    <div class="form-group">
                        <label>Selected</label>
                        <input type="checkbox" formControlName="selected" class="form-check" >
                    </div>
                    <div class="form-group">
                     <label>Available</label>
                     <input type="checkbox"  class="form-check" formControlName="available">
                    </div>
                    <button  type="submit" class="btn btn-success" >Save</button>
                </form>
            </ng-container>
        </ng-container>
    </ng-container>
</div>
           
    
